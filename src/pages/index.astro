---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import Features from '../components/Features.astro';
import DemoSection from '../components/DemoSection.astro';
import PlatformStrip from '../components/PlatformStrip.astro';
import Gallery from '../components/Gallery.astro';
import Waitlist from '../components/Waitlist.astro';
import Footer from '../components/Footer.astro';

const title = 'Speke | The Virtual Office for Remote Teams';
const description = 'Speke gives remote teams persistent voice channels, live presence, and instant screen sharing. Stop scheduling â€” just talk.';
const canonical = 'https://virtual-office-dev.janhoon.com/';
const keywords = 'virtual office, remote team voice channels, live presence, screen sharing, team communication, desktop app for remote teams';

const schema = {
  '@context': 'https://schema.org',
  '@graph': [
    {
      '@type': 'SoftwareApplication',
      name: 'Speke',
      applicationCategory: 'BusinessApplication',
      operatingSystem: 'macOS, Windows, Linux, Web',
      url: canonical,
      description,
      offers: {
        '@type': 'Offer',
        price: '0',
        priceCurrency: 'USD',
        availability: 'https://schema.org/PreOrder'
      },
      featureList: [
        'Persistent voice channels',
        'Live presence indicators',
        'Simultaneous screen sharing',
        'Organized channels and threads',
        'Native desktop app for macOS, Windows, Linux'
      ]
    }
  ]
};
---

<Layout
  title={title}
  description={description}
  canonical={canonical}
  keywords={keywords}
  schema={schema}
>
  <main>
    <Hero />
    <Features />
    <DemoSection />
    <PlatformStrip />
    <Gallery />
    <Waitlist />
    <Footer />
  </main>
</Layout>

<script>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.1 }
  );

  document.querySelectorAll('.reveal').forEach((el) => observer.observe(el));
</script>
