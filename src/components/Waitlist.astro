---
---

<section id="waitlist" class="py-20 px-4 bg-gradient-to-br from-purple-900 via-gray-900 to-gray-900">
  <div class="max-w-2xl mx-auto text-center">
    <h2 class="text-4xl md:text-5xl font-bold mb-4">
      Be the First to Know
    </h2>
    <p class="text-xl text-gray-300 mb-12">
      Join our waitlist and get early access when we launch.
    </p>
    
    <form id="waitlist-form" class="max-w-md mx-auto">
      <div class="flex flex-col sm:flex-row gap-4">
        <input
          type="email"
          id="email"
          name="email"
          placeholder="Enter your email"
          required
          class="flex-1 px-6 py-4 rounded-lg bg-gray-800 border border-gray-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 text-white placeholder-gray-400"
        />
        <button
          type="submit"
          class="bg-purple-600 hover:bg-purple-700 text-white font-semibold px-8 py-4 rounded-lg transition-colors duration-200 whitespace-nowrap"
        >
          Join Waitlist
        </button>
      </div>
      <p id="form-message" class="mt-4 text-sm"></p>
    </form>
  </div>
</section>

<script>
  const form = document.getElementById('waitlist-form') as HTMLFormElement;
  const message = document.getElementById('form-message') as HTMLParagraphElement;
  const emailInput = document.getElementById('email') as HTMLInputElement;

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const email = emailInput.value;
    message.textContent = 'Submitting...';
    message.className = 'mt-4 text-sm text-gray-400';

    try {
      const response = await fetch('/api/waitlist', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ email }),
      });

      const data = await response.json();

      if (response.ok) {
        message.textContent = 'âœ“ Thanks! You\'re on the waitlist. Check your email for confirmation.';
        message.className = 'mt-4 text-sm text-green-400';
        emailInput.value = '';
      } else {
        message.textContent = data.error || 'Something went wrong. Please try again.';
        message.className = 'mt-4 text-sm text-red-400';
      }
    } catch (error) {
      message.textContent = 'Network error. Please try again.';
      message.className = 'mt-4 text-sm text-red-400';
    }
  });
</script>
