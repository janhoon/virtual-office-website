# Speke Website - Progress Log

## Initial Setup (2026-02-12)
- ✅ Created Astro project with Tailwind CSS
- ✅ Deployed to Cloudflare Pages: https://speke-website.pages.dev
- ✅ Implemented landing page components:
  - Hero section with gradient background
  - Features showcase (6 features)
  - Waitlist signup form
  - Footer with links
- ✅ Created Cloudflare Worker for waitlist backend (ready to deploy)
- ✅ Set up D1 database schema for email collection
- ✅ GitHub repository: https://github.com/janhoon/speke-website

## Current State
- Landing page is live and functional
- Waitlist backend needs manual deployment (D1 database creation)
- Ready for feature additions and improvements

## Next Steps
- Deploy waitlist worker when D1 database is created
- Add custom domain (virtualoffice.io)
- Additional features per PRD

## PostHog Integration (2026-02-14)
- ✅ Installed `posthog-js` and initialized analytics globally from `Layout.astro`
- ✅ Added CTA click tracking (`cta_clicked`) across hero, features, waitlist, and footer CTAs
- ✅ Added waitlist funnel tracking for form views and submissions:
  - `waitlist_form_viewed`
  - `waitlist_signup` with success/failed status
  - `waitlist_signup_success` and `waitlist_signup_failed`
- ✅ Added PostHog env configuration docs and defaults (`.env.example`, `wrangler.toml`, README, DEPLOYMENT)
- ✅ Verified with `npm run build`

## Turnstile CAPTCHA Protection (2026-02-18)
- ✅ Added Cloudflare Turnstile script in `Layout.astro` and widget instances to hero and waitlist forms
- ✅ Updated waitlist submission flow to include `cf-turnstile-response` token in POST payload
- ✅ Added server-side CAPTCHA verification in `worker/src/index.ts` before D1 writes
- ✅ Added local test env defaults (`PUBLIC_TURNSTILE_SITE_KEY` in `.env`/`.env.example`, `TURNSTILE_SECRET_KEY` in `worker/wrangler.toml`)
- ✅ Documented production key setup and deployment steps in `README.md` and `DEPLOYMENT.md`
- ✅ Verified with `npm run build`
