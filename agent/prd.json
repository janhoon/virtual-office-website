[
  {
    "category": "Feature - PostHog Integration (Website)",
    "description": "Integrate PostHog analytics into Speke Astro landing page for marketing analytics, conversion tracking, and A/B testing.",
    "fizzyCard": 253,
    "steps": [
      "PHASE 1: Install PostHog SDK",
      "Install posthog-js: npm install posthog-js",
      "",
      "PHASE 2: Add PostHog Script to Layout",
      "Update src/layouts/Layout.astro",
      "Add PostHog initialization script in <head>:",
      "- Host: https://eu.i.posthog.com",
      "- API Key: phc_SufADq1sXKA8eN4wSAMaAmIPwWVP3GR9mcPaE8xcJLW",
      "- Load posthog-js from CDN or bundle",
      "Initialize PostHog globally (window.posthog)",
      "",
      "PHASE 3: Track Page Views",
      "PostHog auto-captures page views by default",
      "Verify page view events appear in PostHog dashboard",
      "Add page metadata if needed (title, path, referrer)",
      "",
      "PHASE 4: Track Waitlist Form Submissions",
      "Update src/components/Waitlist.astro or form component",
      "Track custom event on form submit:",
      "- Event: waitlist_signup",
      "- Properties: { email, source: landing_page }",
      "Track successful vs failed submissions separately",
      "",
      "PHASE 5: Track CTA Button Clicks",
      "Add tracking to primary CTA buttons:",
      "- Hero CTA (\"Get Started\", \"Join Waitlist\")",
      "- Feature section CTAs",
      "- Footer CTAs",
      "Event name: cta_clicked",
      "Properties: { cta_text, cta_location, cta_url }",
      "",
      "PHASE 6: Conversion Funnels",
      "Define conversion funnel in PostHog:",
      "1. Page view (landing)",
      "2. CTA clicked",
      "3. Waitlist form viewed",
      "4. Waitlist signup completed",
      "Set up funnel in PostHog dashboard (not in code)",
      "",
      "PHASE 7: A/B Testing Setup (Optional)",
      "Add feature flag support for A/B tests",
      "Example: test different hero copy or CTA text",
      "Use posthog.isFeatureEnabled(variant_a) in Astro components",
      "Track which variant user sees",
      "",
      "PHASE 8: Environment Configuration",
      "Add PUBLIC_POSTHOG_API_KEY to .env",
      "Add PUBLIC_POSTHOG_HOST to .env (https://eu.i.posthog.com)",
      "Disable PostHog in development mode (optional)",
      "Update wrangler.toml with env vars for Cloudflare Pages deployment",
      "Document env vars in README or DEPLOYMENT.md",
      "",
      "PHASE 9: Test PostHog Integration",
      "TEST: PostHog initializes on page load",
      "TEST: Page views tracked",
      "TEST: Waitlist form submission tracked",
      "TEST: CTA button clicks tracked",
      "TEST: Events visible in PostHog dashboard",
      "TEST: No PostHog errors in browser console",
      "TEST: Works on Cloudflare Pages deployment (prod)",
      "",
      "PHASE 10: Update PRD and Commit",
      "Set passes: true in prd.json",
      "Update progress.txt",
      "Commit: \"feat: integrate PostHog analytics in landing page (#253)\""
    ],
    "passes": true
  }
]
